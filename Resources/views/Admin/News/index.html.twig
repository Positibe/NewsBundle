{% extends '::base.html.twig' %}

{% block body -%}
    <h1>Últimas noticias</h1>
    <form class="form-inline form-filter" action="" method="get">
        <div class="form-group">
            <label for="criteria_title" class="sr-only control-label">Title</label>
            <input type="text" class=" form-control" placeholder="Title" name="criteria[title]"
                   id="criteria_title"></div>
        <div class="form-group">
            <label for="criteria_about" class="sr-only control-label">About</label>
            <input type="text" class="form-control" placeholder="About" name="criteria[about]"
                   id="criteria_about"></div>
        <button class="btn btn-primary" type="submit"><i class="glyphicon glyphicon-search"></i> Filter</button>
    </form>
    <div class="">
        Ordenar Por: {{ sylius_resource_sort('title', 'Título') }}
    </div>
    <div class="row">
        <div class="col-xs-9">
            {{ pagerfanta(news, 'twitter_bootstrap3_translated', options|default({})) }}
        </div>

        <div class="col-xs-3">
            <div class="pull-right">
                <div class="btn-group paginator">
                    {{ sylius_resource_paginate(news, [10,20,30]) }}
                </div>
            </div>
        </div>
    </div>

    <div class="text-right">
    <a href="{{ path('positibe_news_admin_news_create') }}" class="btn btn-success">
            Create a new entry
        </a>
    </div>

    {% for news in news %}
        <div class="row">
            <div class="col-md-4 blog-img blog-tag-data">
                {% thumbnail news.image, 'small' %}
            </div>
            <div class="col-md-8 blog-article">
                <h3>
                    <a href="{{ path('positibe_news_admin_news_show', {'slug': news.slug}) }}">
                        {{ news.title }}
                    </a>
                </h3>
                <ul class="list-inline">
                    <li>
                        <i class="fa fa-calendar"></i>
                        <a href="#">
                            {{ news.publicationDateStart | localizeddate('long', 'none') }}
                        </a>
                    </li>
                    <li>
                        <i class="fa fa-comments"></i>
                        <a href="#">
                            {{ news.commentsCount }} Comments
                        </a>
                    </li>
                    <li>
                        <i class="fa fa-tags"></i>
                        <a href="#">
                            Technology,
                        </a>
                        <a href="#">
                            Education,
                        </a>
                        <a href="#">
                            Internet
                        </a>
                    </li>
                </ul>

                <p>
                    {{ news.abstract }}
                </p>
                <a href="{{ path('positibe_news_admin_news_show', {'slug': news.slug}) }}" class="btn btn-primary">
                    Read more <i class="m-icon-swapright m-icon-white"></i>
                </a>
            </div>
        </div>
        <hr>
    {% endfor %}


    <div class="row">
        <div class="col-xs-9">
            {{ pagerfanta(news, 'twitter_bootstrap3_translated', options|default({})) }}
        </div>

        <div class="col-xs-3">
            <div class="pull-right">
                <div class="btn-group paginator">
                    {{ sylius_resource_paginate(news, [10,20,30]) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
